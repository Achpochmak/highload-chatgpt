# ChatGPT

# 1. Тема, MVP, анализ трафика
ChatGPT — это чат-бот на основе нейросети, генерирующий тексты, похожие на написанные человеком

### MVP
1. Регистрация/авторизация
2. Написание и отправка запроса в текстовом формате
3. Отправка изображений
4. Генерация текстового ответа
5. Поиск по истории запросов
6. Просмотр истории запросов

### Анализ трафика
- MAU 180M [1]
- DAU 120M [1]
- Среднее время посещения - 6 минут 14 сек [2]
- В среднем 1 млрд запросов в день [2]
- ~ 3.9 миллиона активных подписчиков ChatGPT Plus в США с 89% удержанием после первого квартала и 74% после трех кварталов [3]


#### Использование ChatGPT по странам
Процент стран по количеству пользователей [[2]]

| Страна    | Количество пользователей, % |
|-----------|:-----------------------------:|
| США     |              14,07              |
| Индия  |              9,5             |
| Бразилия |              4,73              |
| Великобритания       |              3,88              |
| Индонезия |              3,84               |
|   Другие |              63,98               |

Аудитория по возрасту:
- 15% в возрасте 18-29 лет
- 17% в возрасте 30-44 года
- 9% в возрасте 45-64 года
- 5% в возрасте 65+

![image](https://github.com/user-attachments/assets/d21c0384-253e-4a32-9f1b-390b2562cefa)

# 2. Расчет нагрузки

- MAU 180M [1]
- DAU 120M [1]

Примем среднюю длину запроса равную 500 символов, среднее количество запросов равным 10, ответ примерно 3000 символов. В качестве кодировки символов выберем кодировку UTF-8, следовательно, 1 символ весит в среднем 3 байта. Тогда на одного пользователя потребуется: (500+3000)*10*3=105000 байт≈103Кб

Средний размер загружаемого файла возьмем равным 100Кб, среднее количество запросов с файлами возьмем равным 1.

Данные необходимые для регистрации:
| Данные    | Длина | Размер | 
|-----------|-----------------------------|-----------|
| Имя     |      25 |        75 байт              |
| Email     |      25 |        75 байт              |
| Пароль     |      10 |        30 байт              |
| Телефон     |      12 |        36 байт              |
| Пароль     |      10 |        30 байт              |
| Страна     |      15 |        45 байт              |

Итого: 291 байт

Средний размер
| Тип данных     |      Размер на одного пользователя в месяц|        Общий размер             |
|-----------|-----------------------------|-----------|
| Длина запроса и ответа     |      300Кб |        54 Тб              |
| Размер загружаемых файлов     |      300Кб |        54 Тб              |
| Данные пользователей     |      1Кб |        2 Тб              |

RPS среднее 120_000_000 / 86400 ≈ 1400 запросов/с
Возьмем пиковую нагрузку в 2 раза больше средней. Также предположим, что 10% пользователей отправляют запросы с файлами. Следовательно (процентное соотношение типов запросов примерное)
| Тип операции     |     Средняя нагрузка |        Пиковая нагрузка             |
|-----------|-----------------------------|-----------|
| Отправка запроса/получение ответа     |      1300 запросов/с |   2600 запросов/с             |
| Регистрация/авторизация    |      25 запросов/с |        50 запросов/с              |
| Просмотр истории   |      50 запросов/с |        100 запросов/с             |
| Поиск по истории     |      25 запросов/с |        50 запросов/с             |

Рассчитаем разбивку по типам трафика в Гбит/с
| Тип операции     |     Средняя нагрузка |        Пиковая нагрузка             |
|-----------|-----------------------------|-----------|
| Отправка запроса/получение ответа     |      1Гбит/с |   2.2Гбит/с             |
| Регистрация/авторизация    |      5*10^(-5)Гбит/с |        1*10^(-4)Гбит/с           |
| Просмотр истории   |       4*10^(-4)Гбит/с |        8*10^(-4)Гбит/с            |
| Поиск по истории     |       2*10^(-4)Гбит/с |       4*10^(-4)Гбит/с            |

***
[1]: https://www.demandsage.com/chatgpt-statistics/
[2]: https://explodingtopics.com/blog/chatgpt-users
[3]: https://increv.co/academy/chatgpt-stats/
[4]: https://aimojo.io/ru/chatgpt-statistics-facts/
